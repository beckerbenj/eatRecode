<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started • eatRecode</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatRecode</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started</h1>
            
      

      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#remotes::install_github("beckerbenj/eatRecode") </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://beckerbenj.github.io/eatRecode/">eatRecode</a></span><span class="op">)</span></span></code></pre></div>
<p>The <code>eatRecode</code> package helps you to recode open text
fields. The infrastructure is pretty straight forward:
<code>eatRecode</code> draws on existing recode lists containing already
recoded value pairs. All values in your data set that are already part
of the recode list can be recoded automatically. All other values are
handled manually, and can be added to the recode list in the end. Over
time, your recode lists will grow, calling for less and less manual
recodes every time.</p>
<div class="section level2">
<h2 id="recode-lists">Recode Lists<a class="anchor" aria-label="anchor" href="#recode-lists"></a>
</h2>
<p>A recode list always has to contain the two columns
<code>oldValues</code> and <code>newValues</code>:</p>
<pre><code><span><span class="co">#&gt;   oldValues newValues</span></span>
<span><span class="co">#&gt; 1   Bavaria   Germany</span></span>
<span><span class="co">#&gt; 2    Berlin   Germany</span></span>
<span><span class="co">#&gt; 3   England        UK</span></span>
<span><span class="co">#&gt; 4     Wales        UK</span></span></code></pre>
<p>The values in the column <code>oldValues</code> will be matched with
values in the column you want to recode. All values in your column that
already are in the data set will be recoded to the values saved in the
column <code>newValues</code> of the recode list.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The workflow is quite simple:</p>
<ol style="list-style-type: decimal">
<li>Apply a recode list to your data frame.</li>
<li>Extract all columns that couldn’t be recoded and recode them
manually.</li>
<li>Update your recode list.</li>
<li>Apply this updated recode list to your data frame.</li>
</ol>
<p>Let’s take a closer look at these four steps:</p>
<div class="section level3">
<h3 id="apply-a-recode-list-to-your-data-frame">1. Apply a Recode List to Your Data Frame<a class="anchor" aria-label="anchor" href="#apply-a-recode-list-to-your-data-frame"></a>
</h3>
<p>We have the following data frame, and want to recode the values in
the column <code>country</code>:</p>
<pre><code><span><span class="co">#&gt;   id    country</span></span>
<span><span class="co">#&gt; 1  1     Berlin</span></span>
<span><span class="co">#&gt; 2  2      Kairo</span></span>
<span><span class="co">#&gt; 3  3    England</span></span>
<span><span class="co">#&gt; 4  4 Schottland</span></span></code></pre>
<p>The two main functions of <code>eatRecode</code> are
<code><a href="../reference/useRecodeList.html">useRecodeList()</a></code> and <code><a href="../reference/extractManualRecode.html">extractManualRecode()</a></code>. As
you might have guessed, <code><a href="../reference/useRecodeList.html">useRecodeList()</a></code> applies a recode
list to a column of your data frame:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recoded_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/useRecodeList.html">useRecodeList</a></span><span class="op">(</span><span class="va">df</span>, varName <span class="op">=</span> <span class="st">"country"</span>, new_varName <span class="op">=</span> <span class="st">"country_r"</span>, recodeList <span class="op">=</span> <span class="va">recode_db</span><span class="op">)</span></span>
<span><span class="va">recoded_df</span></span>
<span><span class="co">#&gt;   id    country country_r</span></span>
<span><span class="co">#&gt; 1  1     Berlin   Germany</span></span>
<span><span class="co">#&gt; 2  2      Kairo      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  3    England        UK</span></span>
<span><span class="co">#&gt; 4  4 Schottland      &lt;NA&gt;</span></span></code></pre></div>
<p>This adds the column <code>country_r</code> to our data frame
<code>df</code>, which contains all recoded values that were part of the
recode list <code>recode_db</code>.</p>
</div>
<div class="section level3">
<h3 id="extract-all-columns-that-couldnt-be-recoded-and-recode-them-manually">2. Extract All Columns That Couldn’t Be Recoded and Recode Them
Manually<a class="anchor" aria-label="anchor" href="#extract-all-columns-that-couldnt-be-recoded-and-recode-them-manually"></a>
</h3>
<p>All others can be extracted with
<code><a href="../reference/extractManualRecode.html">extractManualRecode()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">manual_recodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extractManualRecode.html">extractManualRecode</a></span><span class="op">(</span><span class="va">recoded_df</span>, varName <span class="op">=</span> <span class="st">"country_r"</span><span class="op">)</span></span>
<span><span class="va">manual_recodes</span></span>
<span><span class="co">#&gt;   id    country newValues</span></span>
<span><span class="co">#&gt; 2  2      Kairo      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  4 Schottland      &lt;NA&gt;</span></span></code></pre></div>
<p>This list can be edited manually to add the recoded values in
<code>newValues</code>. For example, you can save the file as an
<code>.xlsx</code> file and edit it in excel, then load it into R
again:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">openxlsx</span><span class="fu">::</span><span class="fu">write.xlsx</span><span class="op">(</span><span class="va">manual_recodes</span>, <span class="st">"./manual_recodes.xlsx"</span><span class="op">)</span></span>
<span><span class="va">recoded_df2</span> <span class="op">&lt;-</span> <span class="fu">openxlsx</span><span class="fu">::</span><span class="fu">read.xlsx</span><span class="op">(</span><span class="st">"./manual_recodes_changed.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>You can also edit the data directly in R:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">manual_recodes</span><span class="op">$</span><span class="va">newValues</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Egypt"</span>, <span class="st">"UK"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="update-your-recode-list">3. Update Your Recode List<a class="anchor" aria-label="anchor" href="#update-your-recode-list"></a>
</h3>
<p>The next step is to update your recode data base, so it contains all
needed values:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/updateRecodeDB.html">updateRecodeDB</a></span><span class="op">(</span>newRecodes <span class="op">=</span> <span class="va">manual_recodes</span>,</span>
<span>               oldValues <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>               directory <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"testthat"</span><span class="op">)</span>, <span class="co"># I use the here package to set the path to the data base</span></span>
<span>               DBname <span class="op">=</span> <span class="st">"helper_recodeDB_2"</span>,             </span>
<span>               ListName <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>               fileType <span class="op">=</span> <span class="st">"xlsx"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Successfully updated helper_recodeDB_2.xlsx"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="apply-this-updated-recode-list-to-your-data-frame">4. Apply this Updated Recode List to Your Data Frame<a class="anchor" aria-label="anchor" href="#apply-this-updated-recode-list-to-your-data-frame"></a>
</h3>
<p>Now you can use this recoded list on your data frame.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recodeList_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xlsx</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"testthat"</span>, <span class="st">"helper_recodeDB_2.xlsx"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">recoded_df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/useRecodeList.html">useRecodeList</a></span><span class="op">(</span><span class="va">df</span>, varName <span class="op">=</span> <span class="st">"country"</span>, new_varName <span class="op">=</span> <span class="st">"country_r"</span>, </span>
<span>                             recodeList <span class="op">=</span> <span class="va">recodeList_2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">recoded_df2</span></span>
<span><span class="co">#&gt;   id    country country_r</span></span>
<span><span class="co">#&gt; 1  1     Berlin   Germany</span></span>
<span><span class="co">#&gt; 2  2      Kairo     Egypt</span></span>
<span><span class="co">#&gt; 3  3    England        UK</span></span>
<span><span class="co">#&gt; 4  4 Schottland        UK</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Becker, Nicklas Hafiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
