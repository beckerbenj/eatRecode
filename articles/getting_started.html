<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="eatRecode">
<title>Getting Started • eatRecode</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="eatRecode">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">eatRecode</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting Started</h1>
            
      
      
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#remotes::install_github("eatRecode") </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://beckerbenj.github.io/eatRecode/">eatRecode</a></span><span class="op">)</span></span></code></pre></div>
<p>The <code>eatRecode</code> package helps you to recode open text
fields. The infrastructure is pretty straight forward:
<code>eatRecode</code> draws on existing recode lists containing already
recoded value pairs. All values in your data set that are already part
of the recode list can be recoded automatically. All other values are
handled manually, and can be added to the recode list in the end. Over
time, your recode lists will grow, calling for less and less manual
recodes every time.</p>
<div class="section level2">
<h2 id="recode-lists">Recode Lists<a class="anchor" aria-label="anchor" href="#recode-lists"></a>
</h2>
<p>A recode List always has to contain the two columns
<code>oldValues</code> and <code>newValues</code>:</p>
<pre><code><span><span class="co">#&gt;   oldValues newValues</span></span>
<span><span class="co">#&gt; 1   Bavaria   Germany</span></span>
<span><span class="co">#&gt; 2    Berlin   Germany</span></span>
<span><span class="co">#&gt; 3   England        UK</span></span>
<span><span class="co">#&gt; 4     Wales        UK</span></span></code></pre>
<p>The values in the column <code>oldValues</code> will be matched with
values in the column you want to recode. All values in your column that
already are in the data set will be recoded to the values saved in the
column <code>newValues</code> of the recode List.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The workflow is quite simple:</p>
<ol style="list-style-type: decimal">
<li>Apply a recode list to your data frame.</li>
<li>Extract all columns that couldn’t be recoded and recode them
manually.</li>
<li>Update your recode list.</li>
<li>Apply this updated recode list to your data frame.</li>
</ol>
<p>Let’s take a closer look at these four steps:</p>
<div class="section level3">
<h3 id="apply-a-recode-list-to-your-data-frame">1. Apply a recode list to your data.frame<a class="anchor" aria-label="anchor" href="#apply-a-recode-list-to-your-data-frame"></a>
</h3>
<p>We have the following data frame, and want to recode the values
contained in the column <code>country</code>:</p>
<pre><code><span><span class="co">#&gt;   id    country</span></span>
<span><span class="co">#&gt; 1  1     Berlin</span></span>
<span><span class="co">#&gt; 2  2      Kairo</span></span>
<span><span class="co">#&gt; 3  3    England</span></span>
<span><span class="co">#&gt; 4  4 Schottland</span></span></code></pre>
<p>The two main functions of <code>eatRecode</code> are
<code><a href="../reference/useRecodeList.html">useRecodeList()</a></code> and <code><a href="../reference/extractManualRecode.html">extractManualRecode()</a></code>. As
you might have guessed, <code><a href="../reference/useRecodeList.html">useRecodeList()</a></code> applies a recode
list to a column of your data frame:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recoded_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/useRecodeList.html">useRecodeList</a></span><span class="op">(</span><span class="va">df</span>, varName <span class="op">=</span> <span class="st">"country"</span>, new_varName <span class="op">=</span> <span class="st">"country_r"</span>, recodeList <span class="op">=</span> <span class="va">recode_db</span><span class="op">)</span></span>
<span><span class="va">recoded_df</span></span>
<span><span class="co">#&gt;   id    country country_r</span></span>
<span><span class="co">#&gt; 1  1     Berlin   Germany</span></span>
<span><span class="co">#&gt; 2  2      Kairo      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  3    England        UK</span></span>
<span><span class="co">#&gt; 4  4 Schottland      &lt;NA&gt;</span></span></code></pre></div>
<p>This adds the column <code>country_r</code> to our data frame
<code>df</code>, which contains all recoded values that were part of the
recode list <code>recode_db</code>.</p>
</div>
<div class="section level3">
<h3 id="extract-all-columns-that-couldnt-be-recoded-and-recode-them-manually-">2. Extract all columns that couldn’t be recoded and recode them
manually.<a class="anchor" aria-label="anchor" href="#extract-all-columns-that-couldnt-be-recoded-and-recode-them-manually-"></a>
</h3>
<p>All others can be extracted with
<code><a href="../reference/extractManualRecode.html">extractManualRecode()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">manual_recodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extractManualRecode.html">extractManualRecode</a></span><span class="op">(</span><span class="va">recoded_df</span>, varName <span class="op">=</span> <span class="st">"country_r"</span><span class="op">)</span></span>
<span><span class="va">manual_recodes</span></span>
<span><span class="co">#&gt;   id    country newValues</span></span>
<span><span class="co">#&gt; 2  2      Kairo      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  4 Schottland      &lt;NA&gt;</span></span></code></pre></div>
<p>This list can be edited manually to add the recoded values in
<code>newValues</code>. For example, you can save the file as an
<code>.xlsx</code> file and edit it in excel, then load it into R
again:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">openxlsx</span><span class="fu">::</span><span class="fu">write_xlsx</span><span class="op">(</span><span class="va">manual_recodes</span>, <span class="st">"./manual_recodes.xlsx"</span><span class="op">)</span></span>
<span><span class="va">recoded_df2</span> <span class="op">&lt;-</span> <span class="fu">openxlsx</span><span class="fu">::</span><span class="fu">read_xlsx</span><span class="op">(</span><span class="st">"./manual_recodes_changed.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>Or, you can edit the data directly in R:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">manual_recodes</span><span class="op">$</span><span class="va">newValues</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Egypt"</span>, <span class="st">"UK"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="update-your-recode-list">3. Update your recode list<a class="anchor" aria-label="anchor" href="#update-your-recode-list"></a>
</h3>
<p>The next step is to update your recode data base, so it contains all
needed values:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/updateRecodeDB.html">updateRecodeDB</a></span><span class="op">(</span>newRecodes <span class="op">=</span> <span class="va">manual_recodes</span>,</span>
<span>                            oldValues <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>                            recodeDBPath <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"testthat"</span>, <span class="st">"helper_recodeDB.xlsx"</span><span class="op">)</span>, <span class="co"># I use the here package to set the path to the data base</span></span>
<span>                            newRecodeDBPath <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"testthat"</span>, <span class="st">"helper_recodeDB_2.xlsx"</span><span class="op">)</span>, </span>
<span>                            name <span class="op">=</span> <span class="st">"country"</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="apply-this-updated-recode-list-to-your-data-frame-">4. Apply this updated recode list to your data frame.<a class="anchor" aria-label="anchor" href="#apply-this-updated-recode-list-to-your-data-frame-"></a>
</h3>
<p>Now you can use this recoded list on your data frame</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recodeList_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xlsx</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"testthat"</span>, <span class="st">"helper_recodeDB_2.xlsx"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">recoded_df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/useRecodeList.html">useRecodeList</a></span><span class="op">(</span><span class="va">df</span>, varName <span class="op">=</span> <span class="st">"country"</span>, new_varName <span class="op">=</span> <span class="st">"country_r"</span>, </span>
<span>                             recodeList <span class="op">=</span> <span class="va">recodeList_2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">recoded_df2</span></span>
<span><span class="co">#&gt;   id    country country_r</span></span>
<span><span class="co">#&gt; 1  1     Berlin   Germany</span></span>
<span><span class="co">#&gt; 2  2      Kairo     Egypt</span></span>
<span><span class="co">#&gt; 3  3    England        UK</span></span>
<span><span class="co">#&gt; 4  4 Schottland        UK</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Benjamin Becker, Nicklas Hafiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
